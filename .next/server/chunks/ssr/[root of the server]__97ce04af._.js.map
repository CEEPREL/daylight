{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/lib/utils.tsx"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatEmailString(\n  userEmail: {\n    firstName: string | null;\n    lastName: string | null;\n    email: string;\n  },\n  opts: { includeFullEmail: boolean } = { includeFullEmail: false },\n) {\n  if (userEmail.firstName && userEmail.lastName) {\n    return `${userEmail.firstName} ${userEmail.lastName} ${\n      opts.includeFullEmail ? `<${userEmail.email}>` : ''\n    }`;\n  }\n  return userEmail.email;\n}\n\nexport function toTitleCase(str: string) {\n  return str.replace(/\\w\\S*/g, function (txt: string) {\n    return txt.charAt(0).toUpperCase() + txt.substring(1).toLowerCase();\n  });\n}\n\nexport function highlightText(text: string, query: string | undefined) {\n  if (!query) return text;\n  const parts = text.split(new RegExp(`(${query})`, 'gi'));\n\n  return parts.map((part, i) =>\n    part.toLowerCase() === query.toLowerCase() ? (\n      <mark key={i} className=\"bg-yellow-200 text-black\">\n        {part}\n      </mark>\n    ) : (\n      part\n    ),\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS,kBACd,SAIC,EACD,OAAsC;IAAE,kBAAkB;AAAM,CAAC;IAEjE,IAAI,UAAU,SAAS,IAAI,UAAU,QAAQ,EAAE;QAC7C,OAAO,GAAG,UAAU,SAAS,CAAC,CAAC,EAAE,UAAU,QAAQ,CAAC,CAAC,EACnD,KAAK,gBAAgB,GAAG,CAAC,CAAC,EAAE,UAAU,KAAK,CAAC,CAAC,CAAC,GAAG,IACjD;IACJ;IACA,OAAO,UAAU,KAAK;AACxB;AAEO,SAAS,YAAY,GAAW;IACrC,OAAO,IAAI,OAAO,CAAC,UAAU,SAAU,GAAW;QAChD,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,SAAS,CAAC,GAAG,WAAW;IACnE;AACF;AAEO,SAAS,cAAc,IAAY,EAAE,KAAyB;IACnE,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,QAAQ,KAAK,KAAK,CAAC,IAAI,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE;IAElD,OAAO,MAAM,GAAG,CAAC,CAAC,MAAM,IACtB,KAAK,WAAW,OAAO,MAAM,WAAW,mBACtC,8OAAC;YAAa,WAAU;sBACrB;WADQ;;;;mBAIX;AAGN","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/components/ui/tooltip.tsx"],"sourcesContent":["'use client';\n\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  );\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'z-50 w-fit rounded-md bg-primary px-3 py-1.5 text-xs text-balance text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-primary fill-primary\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger };\n"],"names":[],"mappings":";;;;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,8OAAC,mKAAA,CAAA,WAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,8OAAC;kBACC,cAAA,8OAAC,mKAAA,CAAA,OAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,8OAAC,mKAAA,CAAA,UAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,mKAAA,CAAA,SAAuB;kBACtB,cAAA,8OAAC,mKAAA,CAAA,UAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EACV,wXACA;YAED,GAAG,KAAK;;gBAER;8BACD,8OAAC,mKAAA,CAAA,QAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/lib/db/actions.ts"],"sourcesContent":["'use server';\n\nimport { eq } from 'drizzle-orm';\nimport { revalidatePath } from 'next/cache';\nimport { redirect } from 'next/navigation';\nimport { z } from 'zod';\nimport { db } from './drizzle';\nimport { emails, folders, threadFolders, threads, users } from './schema';\n\nconst sendEmailSchema = z.object({\n  subject: z.string().min(1, 'Subject is required'),\n  body: z.string().min(1, 'Body is required'),\n  recipientEmail: z.string().email('Invalid email address'),\n});\n\nexport async function sendEmailAction(_: any, formData: FormData) {\n  let newThread;\n  let rawFormData = {\n    subject: formData.get('subject'),\n    body: formData.get('body'),\n    recipientEmail: formData.get('recipientEmail'),\n  };\n\n  if (process.env.VERCEL_ENV === 'production') {\n    return {\n      error: 'Only works on localhost for now',\n      previous: rawFormData,\n    };\n  }\n\n  try {\n    let validatedFields = sendEmailSchema.parse({\n      subject: formData.get('subject'),\n      body: formData.get('body'),\n      recipientEmail: formData.get('recipientEmail'),\n    });\n\n    let { subject, body, recipientEmail } = validatedFields;\n\n    let [recipient] = await db\n      .select()\n      .from(users)\n      .where(eq(users.email, recipientEmail));\n\n    if (!recipient) {\n      [recipient] = await db\n        .insert(users)\n        .values({ email: recipientEmail })\n        .returning();\n    }\n\n    let result = await db\n      .insert(threads)\n      .values({\n        subject,\n        lastActivityDate: new Date(),\n      })\n      .returning();\n    newThread = result[0];\n\n    await db.insert(emails).values({\n      threadId: newThread.id,\n      senderId: 1,\n      recipientId: recipient.id,\n      subject,\n      body,\n      sentDate: new Date(),\n    });\n\n    let [sentFolder] = await db\n      .select()\n      .from(folders)\n      .where(eq(folders.name, 'Sent'));\n\n    await db.insert(threadFolders).values({\n      threadId: newThread.id,\n      folderId: sentFolder.id,\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return { error: error.errors[0].message, previous: rawFormData };\n    }\n    return {\n      error: 'Failed to send email. Please try again.',\n      previous: rawFormData,\n    };\n  }\n\n  revalidatePath('/', 'layout');\n  redirect(`/f/sent/${newThread.id}`);\n}\n\nexport async function moveThreadToDone(_: any, formData: FormData) {\n  if (process.env.VERCEL_ENV === 'production') {\n    return {\n      error: 'Only works on localhost for now',\n    };\n  }\n\n  let threadId = formData.get('threadId');\n\n  if (!threadId || typeof threadId !== 'string') {\n    return { error: 'Invalid thread ID', success: false };\n  }\n\n  try {\n    let doneFolder = await db.query.folders.findFirst({\n      where: eq(folders.name, 'Archive'),\n    });\n\n    if (!doneFolder) {\n      return { error: 'Done folder not found', success: false };\n    }\n\n    let parsedThreadId = parseInt(threadId, 10);\n\n    await db\n      .delete(threadFolders)\n      .where(eq(threadFolders.threadId, parsedThreadId));\n\n    await db.insert(threadFolders).values({\n      threadId: parsedThreadId,\n      folderId: doneFolder.id,\n    });\n\n    revalidatePath('/f/[name]');\n    revalidatePath('/f/[name]/[id]');\n    return { success: true, error: null };\n  } catch (error) {\n    console.error('Failed to move thread to Done:', error);\n    return { success: false, error: 'Failed to move thread to Done' };\n  }\n}\n\nexport async function moveThreadToTrash(_: any, formData: FormData) {\n  if (process.env.VERCEL_ENV === 'production') {\n    return {\n      error: 'Only works on localhost for now',\n    };\n  }\n\n  let threadId = formData.get('threadId');\n\n  if (!threadId || typeof threadId !== 'string') {\n    return { error: 'Invalid thread ID', success: false };\n  }\n\n  try {\n    let trashFolder = await db.query.folders.findFirst({\n      where: eq(folders.name, 'Trash'),\n    });\n\n    if (!trashFolder) {\n      return { error: 'Trash folder not found', success: false };\n    }\n\n    let parsedThreadId = parseInt(threadId, 10);\n\n    await db\n      .delete(threadFolders)\n      .where(eq(threadFolders.threadId, parsedThreadId));\n\n    await db.insert(threadFolders).values({\n      threadId: parsedThreadId,\n      folderId: trashFolder.id,\n    });\n\n    revalidatePath('/f/[name]');\n    revalidatePath('/f/[name]/[id]');\n    return { success: true, error: null };\n  } catch (error) {\n    console.error('Failed to move thread to Trash:', error);\n    return { success: false, error: 'Failed to move thread to Trash' };\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAesB;IA6EA;IA0CA","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/app/components/thread-actions.tsx"],"sourcesContent":["'use client';\n\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { moveThreadToDone, moveThreadToTrash } from '@/lib/db/actions';\nimport { Archive, Check, Clock } from 'lucide-react';\nimport { useActionState } from 'react';\n\ninterface ThreadActionsProps {\n  threadId: number;\n}\n\nexport function ThreadActions({ threadId }: ThreadActionsProps) {\n  const initialState = {\n    error: null,\n    success: false,\n  };\n\n  const [doneState, doneAction, donePending] = useActionState(\n    moveThreadToDone,\n    initialState,\n  );\n  const [trashState, trashAction, trashPending] = useActionState(\n    moveThreadToTrash,\n    initialState,\n  );\n\n  const isProduction = process.env.NEXT_PUBLIC_VERCEL_ENV === 'production';\n\n  return (\n    <TooltipProvider>\n      <div className=\"flex items-center space-x-1\">\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <form action={doneAction}>\n              <input type=\"hidden\" name=\"threadId\" value={threadId} />\n              <button\n                type=\"submit\"\n                disabled={donePending || isProduction}\n                className=\"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                <Check size={14} className=\"text-gray-600\" />\n              </button>\n            </form>\n          </TooltipTrigger>\n          {isProduction && (\n            <TooltipContent>\n              <p>Marking as done is disabled in production</p>\n            </TooltipContent>\n          )}\n        </Tooltip>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <button\n              disabled\n              className=\"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50\"\n            >\n              <Clock size={14} className=\"text-gray-400\" />\n            </button>\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>This feature is not yet implemented</p>\n          </TooltipContent>\n        </Tooltip>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <form action={trashAction}>\n              <input type=\"hidden\" name=\"threadId\" value={threadId} />\n              <button\n                type=\"submit\"\n                disabled={trashPending || isProduction}\n                className=\"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50\"\n              >\n                <Archive size={14} className=\"text-gray-600\" />\n              </button>\n            </form>\n          </TooltipTrigger>\n          {isProduction && (\n            <TooltipContent>\n              <p>Moving to trash is disabled in production</p>\n            </TooltipContent>\n          )}\n        </Tooltip>\n      </div>\n    </TooltipProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAMA;AACA;AAAA;AAAA;AACA;AAVA;;;;;;AAgBO,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,MAAM,eAAe;QACnB,OAAO;QACP,SAAS;IACX;IAEA,MAAM,CAAC,WAAW,YAAY,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EACxD,oHAAA,CAAA,mBAAgB,EAChB;IAEF,MAAM,CAAC,YAAY,aAAa,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EAC3D,oHAAA,CAAA,oBAAiB,EACjB;IAGF,MAAM,eAAe,QAAQ,GAAG,CAAC,sBAAsB,KAAK;IAE5D,qBACE,8OAAC,4HAAA,CAAA,kBAAe;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,4HAAA,CAAA,UAAO;;sCACN,8OAAC,4HAAA,CAAA,iBAAc;4BAAC,OAAO;sCACrB,cAAA,8OAAC;gCAAK,QAAQ;;kDACZ,8OAAC;wCAAM,MAAK;wCAAS,MAAK;wCAAW,OAAO;;;;;;kDAC5C,8OAAC;wCACC,MAAK;wCACL,UAAU,eAAe;wCACzB,WAAU;kDAEV,cAAA,8OAAC,oMAAA,CAAA,QAAK;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;wBAIhC,8BACC,8OAAC,4HAAA,CAAA,iBAAc;sCACb,cAAA,8OAAC;0CAAE;;;;;;;;;;;;;;;;;8BAIT,8OAAC,4HAAA,CAAA,UAAO;;sCACN,8OAAC,4HAAA,CAAA,iBAAc;4BAAC,OAAO;sCACrB,cAAA,8OAAC;gCACC,QAAQ;gCACR,WAAU;0CAEV,cAAA,8OAAC,oMAAA,CAAA,QAAK;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;;;;;;sCAG/B,8OAAC,4HAAA,CAAA,iBAAc;sCACb,cAAA,8OAAC;0CAAE;;;;;;;;;;;;;;;;;8BAGP,8OAAC,4HAAA,CAAA,UAAO;;sCACN,8OAAC,4HAAA,CAAA,iBAAc;4BAAC,OAAO;sCACrB,cAAA,8OAAC;gCAAK,QAAQ;;kDACZ,8OAAC;wCAAM,MAAK;wCAAS,MAAK;wCAAW,OAAO;;;;;;kDAC5C,8OAAC;wCACC,MAAK;wCACL,UAAU,gBAAgB;wCAC1B,WAAU;kDAEV,cAAA,8OAAC,wMAAA,CAAA,UAAO;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;wBAIlC,8BACC,8OAAC,4HAAA,CAAA,iBAAc;sCACb,cAAA,8OAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjB","debugId":null}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/components/ui/button.tsx"],"sourcesContent":["import { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  \"inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      variant: {\n        default:\n          'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40',\n        outline:\n          'border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 gap-1.5 rounded-md px-3 text-xs has-[>svg]:px-2.5',\n        lg: 'h-8 rounded-md px-2 has-[>svg]:px-2 sm:h-10',\n        icon: 'size-9',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : 'button';\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAGA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,8cACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/components/ui/sheet.tsx"],"sourcesContent":["'use client';\n\nimport * as SheetPrimitive from '@radix-ui/react-dialog';\nimport { XIcon } from 'lucide-react';\nimport * as React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />;\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />;\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />;\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />;\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        'fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=open]:fade-in-0',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = 'right',\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: 'top' | 'right' | 'bottom' | 'left';\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          'fixed z-50 flex flex-col gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=closed]:animate-out data-[state=open]:duration-500 data-[state=open]:animate-in',\n          side === 'right' &&\n            'inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',\n          side === 'left' &&\n            'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',\n          side === 'top' &&\n            'inset-x-0 top-0 h-auto border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',\n          side === 'bottom' &&\n            'inset-x-0 bottom-0 h-auto border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetClose asChild>\n          <Button\n            className=\"absolute top-4 right-4 cursor-pointer rounded-full\"\n            size=\"icon\"\n            variant=\"ghost\"\n          >\n            <XIcon className=\"size-4\" />\n            <span className=\"sr-only\">Close</span>\n          </Button>\n        </SheetClose>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  );\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn('flex flex-col gap-1.5 p-4', className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn('text-lg font-semibold text-foreground', className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn('text-sm text-muted-foreground', className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAGA;AACA;AAPA;;;;;;AASA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,8OAAC,kKAAA,CAAA,OAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,kKAAA,CAAA,UAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,8OAAC,kKAAA,CAAA,QAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,kKAAA,CAAA,SAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,kKAAA,CAAA,UAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAsB;gBACrB,aAAU;gBACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EACV,kNACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC;wBAAW,OAAO;kCACjB,cAAA,8OAAC,2HAAA,CAAA,SAAM;4BACL,WAAU;4BACV,MAAK;4BACL,SAAQ;;8CAER,8OAAC,gMAAA,CAAA,QAAK;oCAAC,WAAU;;;;;;8CACjB,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EAAE,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EAAE,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,kKAAA,CAAA,QAAoB;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EAAE,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,kKAAA,CAAA,cAA0B;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,6GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/app/components/menu.tsx"],"sourcesContent":["import {\n  Sheet,\n  SheetContent,\n  SheetTitle,\n  SheetTrigger,\n} from '@/components/ui/sheet';\nimport { Check, FileText, Menu, Send, Star, Trash } from 'lucide-react';\nimport Link from 'next/link';\n\nexport function NavMenu() {\n  return (\n    <Sheet>\n      <SheetTrigger asChild>\n        <button className=\"mr-2 -ml-1 cursor-pointer rounded-full p-2 hover:bg-gray-100\">\n          <Menu size={20} />\n        </button>\n      </SheetTrigger>\n      <SheetContent\n        side=\"left\"\n        className=\"w-[300px] transition-transform duration-200 ease-out data-[state=open]:duration-200 data-[state=open]:ease-out sm:w-[400px]\"\n      >\n        <SheetTitle>Menu</SheetTitle>\n        <nav className=\"mt-4 flex flex-col space-y-4\">\n          <Link\n            href=\"/f/inbox\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <Menu size={20} />\n            <span>Inbox</span>\n          </Link>\n          <Link\n            href=\"/f/starred\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <Star size={20} />\n            <span>Starred</span>\n          </Link>\n          <Link\n            href=\"/f/drafts\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <FileText size={20} />\n            <span>Drafts</span>\n          </Link>\n          <Link\n            href=\"/f/sent\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <Send size={20} />\n            <span>Sent Mail</span>\n          </Link>\n          <Link\n            href=\"/f/archive\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <Check size={20} />\n            <span>Archive</span>\n          </Link>\n          <Link\n            href=\"/f/trash\"\n            className=\"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100\"\n          >\n            <Trash size={20} />\n            <span>Trash</span>\n          </Link>\n        </nav>\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAEO,SAAS;IACd,qBACE,8OAAC,0HAAA,CAAA,QAAK;;0BACJ,8OAAC,0HAAA,CAAA,eAAY;gBAAC,OAAO;0BACnB,cAAA,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC,kMAAA,CAAA,OAAI;wBAAC,MAAM;;;;;;;;;;;;;;;;0BAGhB,8OAAC,0HAAA,CAAA,eAAY;gBACX,MAAK;gBACL,WAAU;;kCAEV,8OAAC,0HAAA,CAAA,aAAU;kCAAC;;;;;;kCACZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,kMAAA,CAAA,OAAI;wCAAC,MAAM;;;;;;kDACZ,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,kMAAA,CAAA,OAAI;wCAAC,MAAM;;;;;;kDACZ,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,MAAM;;;;;;kDAChB,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,kMAAA,CAAA,OAAI;wCAAC,MAAM;;;;;;kDACZ,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,oMAAA,CAAA,QAAK;wCAAC,MAAM;;;;;;kDACb,8OAAC;kDAAK;;;;;;;;;;;;0CAER,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;;kDAEV,8OAAC,oMAAA,CAAA,QAAK;wCAAC,MAAM;;;;;;kDACb,8OAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB","debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/macbookpro/Documents/ceeprel/daylight/app/components/thread-list.tsx"],"sourcesContent":["'use client';\n\nimport { ThreadActions } from '@/app/components/thread-actions';\nimport { emails, users } from '@/lib/db/schema';\nimport { formatEmailString } from '@/lib/utils';\nimport { PenSquare, Search } from 'lucide-react';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { NavMenu } from './menu';\n\ntype Email = Omit<typeof emails.$inferSelect, 'threadId'> & {\n  sender: Pick<User, 'id' | 'firstName' | 'lastName' | 'email'>;\n};\ntype User = typeof users.$inferSelect;\n\ntype ThreadWithEmails = {\n  id: number;\n  subject: string | null;\n  lastActivityDate: Date | null;\n  emails: Email[];\n};\n\ninterface ThreadListProps {\n  folderName: string;\n  threads: ThreadWithEmails[];\n  searchQuery?: string;\n}\n\nexport function ThreadHeader({\n  folderName,\n  count,\n}: {\n  folderName: string;\n  count?: number | undefined;\n}) {\n  return (\n    <div className=\"flex h-[70px] items-center justify-between border-b border-gray-200 p-4\">\n      <div className=\"flex items-center\">\n        <NavMenu />\n        <h1 className=\"flex items-center text-xl font-semibold capitalize\">\n          {folderName}\n          <span className=\"ml-2 text-sm text-gray-400\">{count}</span>\n        </h1>\n      </div>\n      <div className=\"flex items-center space-x-2\">\n        <Link\n          href={`/f/${folderName}/new`}\n          className=\"flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-100\"\n        >\n          <PenSquare size={18} />\n        </Link>\n        <Link\n          href=\"/search\"\n          className=\"flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-100\"\n        >\n          <Search size={18} />\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport function ThreadList({ folderName, threads }: ThreadListProps) {\n  const [hoveredThread, setHoveredThread] = useState<number | null>(null);\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkIsMobile = () => {\n      setIsMobile(window.matchMedia('(hover: none)').matches);\n    };\n\n    checkIsMobile();\n    window.addEventListener('resize', checkIsMobile);\n\n    return () => {\n      window.removeEventListener('resize', checkIsMobile);\n    };\n  }, []);\n\n  const handleMouseEnter = (threadId: number) => {\n    if (!isMobile) {\n      setHoveredThread(threadId);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (!isMobile) {\n      setHoveredThread(null);\n    }\n  };\n\n  return (\n    <div className=\"grow overflow-hidden border-r border-gray-200\">\n      <ThreadHeader folderName={folderName} count={threads.length} />\n      <div className=\"h-[calc(100vh-64px)] overflow-auto\">\n        {threads.map((thread) => {\n          const latestEmail = thread.emails[0];\n\n          return (\n            <Link\n              key={thread.id}\n              href={`/f/${folderName.toLowerCase()}/${thread.id}`}\n              className=\"block cursor-pointer border-b border-gray-100 hover:bg-gray-50\"\n            >\n              <div\n                className=\"flex items-center\"\n                onMouseEnter={() => handleMouseEnter(thread.id)}\n                onMouseLeave={handleMouseLeave}\n              >\n                <div className=\"flex grow items-center overflow-hidden p-4\">\n                  <div className=\"mr-4 w-[200px] shrink-0\">\n                    <span className=\"truncate font-medium\">\n                      {formatEmailString(latestEmail.sender)}\n                    </span>\n                  </div>\n                  <div className=\"flex grow items-center overflow-hidden\">\n                    <span className=\"mr-2 max-w-[400px] min-w-[175px] truncate font-medium\">\n                      {thread.subject}\n                    </span>\n                    <span className=\"truncate text-gray-600\">\n                      {latestEmail.body}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex w-40 shrink-0 items-center justify-end p-4\">\n                  {!isMobile && hoveredThread === thread.id ? (\n                    <ThreadActions threadId={thread.id} />\n                  ) : (\n                    <span className=\"text-sm text-gray-500\">\n                      {new Date(thread.lastActivityDate!).toLocaleDateString()}\n                    </span>\n                  )}\n                </div>\n              </div>\n            </Link>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AARA;;;;;;;;AA4BO,SAAS,aAAa,EAC3B,UAAU,EACV,KAAK,EAIN;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0HAAA,CAAA,UAAO;;;;;kCACR,8OAAC;wBAAG,WAAU;;4BACX;0CACD,8OAAC;gCAAK,WAAU;0CAA8B;;;;;;;;;;;;;;;;;;0BAGlD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAM,CAAC,GAAG,EAAE,WAAW,IAAI,CAAC;wBAC5B,WAAU;kCAEV,cAAA,8OAAC,gNAAA,CAAA,YAAS;4BAAC,MAAM;;;;;;;;;;;kCAEnB,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCAEV,cAAA,8OAAC,sMAAA,CAAA,SAAM;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKxB;AAEO,SAAS,WAAW,EAAE,UAAU,EAAE,OAAO,EAAmB;IACjE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,YAAY,OAAO,UAAU,CAAC,iBAAiB,OAAO;QACxD;QAEA;QACA,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO;YACL,OAAO,mBAAmB,CAAC,UAAU;QACvC;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAC;QACxB,IAAI,CAAC,UAAU;YACb,iBAAiB;QACnB;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI,CAAC,UAAU;YACb,iBAAiB;QACnB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAa,YAAY;gBAAY,OAAO,QAAQ,MAAM;;;;;;0BAC3D,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,cAAc,OAAO,MAAM,CAAC,EAAE;oBAEpC,qBACE,8OAAC,4JAAA,CAAA,UAAI;wBAEH,MAAM,CAAC,GAAG,EAAE,WAAW,WAAW,GAAG,CAAC,EAAE,OAAO,EAAE,EAAE;wBACnD,WAAU;kCAEV,cAAA,8OAAC;4BACC,WAAU;4BACV,cAAc,IAAM,iBAAiB,OAAO,EAAE;4BAC9C,cAAc;;8CAEd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAK,WAAU;0DACb,CAAA,GAAA,6GAAA,CAAA,oBAAiB,AAAD,EAAE,YAAY,MAAM;;;;;;;;;;;sDAGzC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DACb,OAAO,OAAO;;;;;;8DAEjB,8OAAC;oDAAK,WAAU;8DACb,YAAY,IAAI;;;;;;;;;;;;;;;;;;8CAIvB,8OAAC;oCAAI,WAAU;8CACZ,CAAC,YAAY,kBAAkB,OAAO,EAAE,iBACvC,8OAAC,uIAAA,CAAA,gBAAa;wCAAC,UAAU,OAAO,EAAE;;;;;6DAElC,8OAAC;wCAAK,WAAU;kDACb,IAAI,KAAK,OAAO,gBAAgB,EAAG,kBAAkB;;;;;;;;;;;;;;;;;uBA7BzD,OAAO,EAAE;;;;;gBAoCpB;;;;;;;;;;;;AAIR","debugId":null}}]
}