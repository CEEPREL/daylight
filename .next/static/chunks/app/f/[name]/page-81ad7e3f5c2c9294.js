(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{1085:(e,t,s)=>{"use strict";s.d(t,{Sheet:()=>d,SheetContent:()=>u,SheetTitle:()=>m,SheetTrigger:()=>o});var a=s(2342),r=s(3651),n=s(4416);s(1289);var i=s(7168),l=s(3851);function d(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"sheet",...t})}function o(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"sheet-trigger",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.bm,{"data-slot":"sheet-close",...t})}function h(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"sheet-portal",...t})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"sheet-overlay",className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=open]:fade-in-0",t),...s})}function u(e){let{className:t,children:s,side:d="right",...o}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(r.UC,{"data-slot":"sheet-content",className:(0,l.cn)("fixed z-50 flex flex-col gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=closed]:animate-out data-[state=open]:duration-500 data-[state=open]:animate-in","right"===d&&"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm","left"===d&&"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm","top"===d&&"inset-x-0 top-0 h-auto border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top","bottom"===d&&"inset-x-0 bottom-0 h-auto border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",t),...o,children:[s,(0,a.jsx)(c,{asChild:!0,children:(0,a.jsxs)(i.$,{className:"absolute top-4 right-4 cursor-pointer rounded-full",size:"icon",variant:"ghost",children:[(0,a.jsx)(n.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"sheet-title",className:(0,l.cn)("text-lg font-semibold text-foreground",t),...s})}},2563:(e,t,s)=>{Promise.resolve().then(s.bind(s,7903))},3851:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n,rk:()=>i}),s(2342);var a=s(2596),r=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeFullEmail:!1};return e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName," ").concat(t.includeFullEmail?"<".concat(e.email,">"):""):e.email}},5196:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5571:(e,t,s)=>{"use strict";s.d(t,{ThreadActions:()=>m});var a=s(2342),r=s(7777),n=s(4477);let i=(0,n.createServerReference)("60898d24b14ac512715f2dea04c5313a0efd33994a",n.callServer,void 0,n.findSourceMapURL,"moveThreadToDone"),l=(0,n.createServerReference)("60c00058479c7aebd52bc9972992d345ea47c5aef1",n.callServer,void 0,n.findSourceMapURL,"moveThreadToTrash");var d=s(5196),o=s(9946);let c=(0,o.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),h=(0,o.A)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var x=s(1289),u=s(9509);function m(e){let{threadId:t}=e,s={error:null,success:!1},[n,o,m]=(0,x.useActionState)(i,s),[f,p,v]=(0,x.useActionState)(l,s),g="production"===u.env.NEXT_PUBLIC_VERCEL_ENV;return(0,a.jsx)(r.Bc,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsxs)("form",{action:o,children:[(0,a.jsx)("input",{type:"hidden",name:"threadId",value:t}),(0,a.jsx)("button",{type:"submit",disabled:m||g,className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50",children:(0,a.jsx)(d.A,{size:14,className:"text-gray-600"})})]})}),g&&(0,a.jsx)(r.ZI,{children:(0,a.jsx)("p",{children:"Marking as done is disabled in production"})})]}),(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsx)("button",{disabled:!0,className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50",children:(0,a.jsx)(c,{size:14,className:"text-gray-400"})})}),(0,a.jsx)(r.ZI,{children:(0,a.jsx)("p",{children:"This feature is not yet implemented"})})]}),(0,a.jsxs)(r.m_,{children:[(0,a.jsx)(r.k$,{asChild:!0,children:(0,a.jsxs)("form",{action:p,children:[(0,a.jsx)("input",{type:"hidden",name:"threadId",value:t}),(0,a.jsx)("button",{type:"submit",disabled:v||g,className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full transition-colors hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50",children:(0,a.jsx)(h,{size:14,className:"text-gray-600"})})]})}),g&&(0,a.jsx)(r.ZI,{children:(0,a.jsx)("p",{children:"Moving to trash is disabled in production"})})]})]})})}},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(2342),r=s(9708),n=s(2085);s(1289);var i=s(3851);let l=(0,n.F)("inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 text-xs has-[>svg]:px-2.5",lg:"h-8 rounded-md px-2 has-[>svg]:px-2 sm:h-10",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:s,size:n,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:s,size:n,className:t})),...o})}},7777:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>o,k$:()=>d,m_:()=>l});var a=s(2342),r=s(3588);s(1289);var n=s(3851);function i(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function l(e){let{...t}=e;return(0,a.jsx)(i,{children:(0,a.jsx)(r.bL,{"data-slot":"tooltip",...t})})}function d(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tooltip-trigger",...t})}function o(e){let{className:t,sideOffset:s=0,children:i,...l}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,n.cn)("z-50 w-fit rounded-md bg-primary px-3 py-1.5 text-xs text-balance text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",t),...l,children:[i,(0,a.jsx)(r.i3,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-primary fill-primary"})]})})}},7903:(e,t,s)=>{"use strict";s.d(t,{ThreadHeader:()=>y,ThreadList:()=>b});var a=s(2342),r=s(5571),n=s(3851),i=s(9946);let l=(0,i.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),d=(0,i.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var o=s(6874),c=s.n(o),h=s(1289),x=s(1085);let u=(0,i.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),m=(0,i.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),f=(0,i.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=(0,i.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var v=s(5196);let g=(0,i.A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function j(){return(0,a.jsxs)(x.Sheet,{children:[(0,a.jsx)(x.SheetTrigger,{asChild:!0,children:(0,a.jsx)("button",{className:"mr-2 -ml-1 cursor-pointer rounded-full p-2 hover:bg-gray-100",children:(0,a.jsx)(u,{size:20})})}),(0,a.jsxs)(x.SheetContent,{side:"left",className:"w-[300px] transition-transform duration-200 ease-out data-[state=open]:duration-200 data-[state=open]:ease-out sm:w-[400px]",children:[(0,a.jsx)(x.SheetTitle,{children:"Menu"}),(0,a.jsxs)("nav",{className:"mt-4 flex flex-col space-y-4",children:[(0,a.jsxs)(c(),{href:"/f/inbox",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(u,{size:20}),(0,a.jsx)("span",{children:"Inbox"})]}),(0,a.jsxs)(c(),{href:"/f/starred",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(m,{size:20}),(0,a.jsx)("span",{children:"Starred"})]}),(0,a.jsxs)(c(),{href:"/f/drafts",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(f,{size:20}),(0,a.jsx)("span",{children:"Drafts"})]}),(0,a.jsxs)(c(),{href:"/f/sent",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(p,{size:20}),(0,a.jsx)("span",{children:"Sent Mail"})]}),(0,a.jsxs)(c(),{href:"/f/archive",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(v.A,{size:20}),(0,a.jsx)("span",{children:"Archive"})]}),(0,a.jsxs)(c(),{href:"/f/trash",className:"flex items-center space-x-2 rounded p-2 text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(g,{size:20}),(0,a.jsx)("span",{children:"Trash"})]})]})]})]})}function y(e){let{folderName:t,count:s}=e;return(0,a.jsxs)("div",{className:"flex h-[70px] items-center justify-between border-b border-gray-200 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j,{}),(0,a.jsxs)("h1",{className:"flex items-center text-xl font-semibold capitalize",children:[t,(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-400",children:s})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c(),{href:"/f/".concat(t,"/new"),className:"flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-100",children:(0,a.jsx)(l,{size:18})}),(0,a.jsx)(c(),{href:"/search",className:"flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-100",children:(0,a.jsx)(d,{size:18})})]})]})}function b(e){let{folderName:t,threads:s}=e,[i,l]=(0,h.useState)(null),[d,o]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=()=>{o(window.matchMedia("(hover: none)").matches)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let x=e=>{d||l(e)},u=()=>{d||l(null)};return(0,a.jsxs)("div",{className:"grow overflow-hidden border-r border-gray-200",children:[(0,a.jsx)(y,{folderName:t,count:s.length}),(0,a.jsx)("div",{className:"h-[calc(100vh-64px)] overflow-auto",children:s.map(e=>{let s=e.emails[0];return(0,a.jsx)(c(),{href:"/f/".concat(t.toLowerCase(),"/").concat(e.id),className:"block cursor-pointer border-b border-gray-100 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center",onMouseEnter:()=>x(e.id),onMouseLeave:u,children:[(0,a.jsxs)("div",{className:"flex grow items-center overflow-hidden p-4",children:[(0,a.jsx)("div",{className:"mr-4 w-[200px] shrink-0",children:(0,a.jsx)("span",{className:"truncate font-medium",children:(0,n.rk)(s.sender)})}),(0,a.jsxs)("div",{className:"flex grow items-center overflow-hidden",children:[(0,a.jsx)("span",{className:"mr-2 max-w-[400px] min-w-[175px] truncate font-medium",children:e.subject}),(0,a.jsx)("span",{className:"truncate text-gray-600",children:s.body})]})]}),(0,a.jsx)("div",{className:"flex w-40 shrink-0 items-center justify-end p-4",children:d||i!==e.id?(0,a.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.lastActivityDate).toLocaleDateString()}):(0,a.jsx)(r.ThreadActions,{threadId:e.id})})]})},e.id)})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[274,977,552,758,708,451,358],()=>t(2563)),_N_E=e.O()}]);